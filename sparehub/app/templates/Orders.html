{% extends "base.html" %}
<!-- {% load static %} -->

{% block title %}Ordars{% endblock title %}

{% block content %}

<div class="relative min-h-screen bg-gradient-to-b from-black via-[#1A0505] to-[#0B0B0B] pt-28 flex ">
        <div class="hidden sm:block w-64 bg-black/40 backdrop-blur-md border-r border-white/10 p-6">
        <h2 class="text-xl font-semibold mb-6 text-red-500">My Account</h2>

        <ul class="space-y-4">
            <li>
                <a href="{% url 'myorder' %}" class="hover:text-red-400 transition">Orders</a>
            </li>
            <li>
                <a href="{% url 'Profile' %}" class="hover:text-red-400 transition">Profile</a>
            </li>
        </ul>
    </div> 
    
    <div class="w-full">
        {% for ordar in ordars%}
    <div class="max-w-4xl mx-auto mb-6 max-sm:w-[370px]">
        <div class="bg-gradient-to-r from-gray-900 to-gray-800 rounded-lg shadow-lg p-6 border border-gray-700 hover:border-red-900 transition-all duration-300">
            <div class="flex items-center justify-between flex-wrap gap-4">
                <div class="flex items-center gap-4">
                    <div class="w-24 h-24 rounded-lg overflow-hidden border-2 border-gray-700 flex-shrink-0">
                        <img src="{{ ordar.product.image.url}}" alt="no imade" class="w-full h-full object-cover">
                    </div>
                    <div class="text-white">
                        <p class="text-lg font-semibold">{{ordar.product.name}}</p>
                        <p class="text-gray-400 text-sm">{{ordar.product.model}}</p>
                    </div>
                </div>
                <div class="text-white">
                    <p class="text-xl font-bold text-red-500">Price: ₹{{ordar.product.price}}</p>
                </div>
                <div>
                    <button onclick="togglemoreview('{{ordar.id}}')" class="bg-red-600 hover:bg-red-700 text-white font-medium px-6 py-2 rounded-lg transition-colors duration-200 shadow-md">
                        View More
                    </button>
                </div>
            </div>
        </div>
        
        <div id="detains-{{ordar.id}}" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
            <div class="relative bg-white w-full max-w-md max-h-[90vh] rounded-lg p-6 overflow-auto text-black shadow-2xl">
                <button onclick="togglemoreview('{{ordar.id}}')"
                    class="absolute top-2 right-3 text-black text-2xl font-bold hover:text-red-600 transition-colors">
                    &times;
                </button>

                <div class="flex items-center gap-4 mb-6 pb-4 border-b border-gray-200">
                    <img src="{{ ordar.product.image.url }}" class="w-24 h-24 rounded-lg object-cover border-2 border-gray-300">
                    <p class="text-xl font-bold text-gray-800">{{ ordar.product.name }}</p>
                </div>

                <div class="mb-4 pb-4 border-b border-gray-200">
                    <p class="text-gray-700 mb-2"><span class="font-semibold">Model:</span> {{ ordar.product.model }}</p>
                    <p class="text-gray-700"><span class="font-semibold">Brand:</span> {{ ordar.product.brand }}</p>
                </div>

                <div class="mb-4 pb-4 border-b border-gray-200 space-y-2">
                    <p class="text-lg font-bold text-red-600">Total Price: ₹{{ ordar.total_price }}</p>
                    <p class="text-gray-700"><span class="font-semibold">Quantity:</span> {{ ordar.quantity }}</p>
                    <p class="text-gray-700"><span class="font-semibold">Payment Method:</span> {{ ordar.payment_methd }}</p>
                    <p class="text-gray-700"><span class="font-semibold">Order at:</span> {{ ordar.order_at }}</p>
                </div>

                <div class="bg-gray-50 p-4 rounded-lg">
                    <p class="text-gray-700"><span class="font-semibold">Address:</span> {{ ordar.address }}</p>
                </div>
            </div>
        </div>
    </div>
    {% empty %}
    <div class="text-center text-white text-xl mt-20">
        <p>No orders found</p>
    </div>
    {% endfor %}
    </div>
</div>

<script>
    const togglemoreview = (id) => {
        const box = document.getElementById('detains-'+id);
        box.classList.toggle("hidden")
    }
</script>

{% endblock content %}